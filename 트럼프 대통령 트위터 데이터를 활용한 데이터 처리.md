# ì§€í•˜ì²  í˜„í™© ë°ì´í„°, ê·¸ë˜í”„ ê·¸ë¦¬ê¸°

```
import csv
import matplotlib.pyplot as plt
import matplotlib.font_manager as fm
import elice_utils

font = fm.FontProperties(fname='./NanumBarunGothic.ttf')
data = csv.reader(open('./data/subway_2016.csv', 'r'), delimiter=",")

num_passenger1 = []
num_passenger2 = []
station1 = 'ì‹ ë¦¼'
line1 = '2í˜¸ì„ '
station2 = 'ê°•ë‚¨'
line2 = '2í˜¸ì„ '

for row in data:
    if row[1] == station1 and row[0] == line1:
        num_passenger1 = row[2:]
    if row[1] == station2 and row[0] == line2:
        num_passenger2 = row[2:]

get_on1 = num_passenger1[::2]
get_off1 = num_passenger1[1::2]

get_on2 = num_passenger2[::2]
get_off2 = num_passenger2[1::2]

get_on1 = [int(g) for g in get_on1]
get_off1 = [int(g) for g in get_off1]
get_on2 = [int(g) for g in get_on2]
get_off2 = [int(g) for g in get_off2]


labels = []
x = []
for i in range(4, 28):
    labels.append(str(i)+'ì‹œ')
    x.append(i)

plt.xticks(x, labels, rotation='vertical', fontproperties=font)
plt.plot(x, get_on1, 'r', label=station1+'ì—­ ìŠ¹ì°¨')
plt.plot(x, get_on2, 'b', label=station2+'ì—­ ìŠ¹ì°¨')
plt.ylim(ymax=420000)

plt.xticks(x, labels, rotation='vertical')
plt.plot(x, get_off1, 'r--', label=station1+'ì—­ í•˜ì°¨')
plt.plot(x, get_off2, 'b--', label=station2+'ì—­ í•˜ì°¨')
plt.ylim(ymax=420000)

plt.title(station1+'ì—­ ìŠ¹í•˜ì°¨ ì¸ì› vs '+station2+'ì—­ ìŠ¹í•˜ì°¨ ì¸ì›  \n # 2016ë…„ 6ì›” í‹°ë¨¸ë‹ˆì¹´ë“œ ì œê³µ ë°ì´í„°', fontproperties=font)
plt.legend(prop=font)

plt.savefig("image.svg", format="svg")
elice_utils.send_image("image.svg")
```

# ê¸°í›„ ë³€í™” ë°ì´í„° ì „ì²˜ë¦¬í•˜ê¸°
```
import math
from data.data import data

def reduce_by_year(data):
    '''
    {ë‚ ì§œ: ì˜¨ë„} í˜•ì‹ì˜ data ë”•ì…”ë„ˆë¦¬ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì•„, ì˜¨ë„ë¥¼ ì—°ë„ ë³„ë¡œ ì •ë¦¬í•˜ì—¬ {ì—°ë„: [ì˜¨ë„]} í˜•ì‹ì˜ ë”•ì…”ë„ˆë¦¬ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
    
    (dict(str, float)) -> dict(int, list(float))
    
    >>> reduce_by_year({'2017-01-01': -1.3, '2017-01-02': 2.5})
    {2017: [-1.3, 2.5]}
    '''
    
    result = {}
    for date, temperature in data.items():
        year = int(date.split('-')[0])
        if year in result:
            result[year].append(temperature)
        else:
            result[year] = [temperature]
            
    return result


def average_by_year(data):
    '''
    {ì—°ë„: [ì˜¨ë„]} í˜•ì‹ì˜ ë”•ì…”ë„ˆë¦¬ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì•„, ì—°ë„ ë³„ í‰ê·  ê¸°ì˜¨ì„ ê³„ì‚°í•˜ì—¬ {ì—°ë„: ì˜¨ë„} í˜•ì‹ì˜ ë”•ì…”ë„ˆë¦¬ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
    
    (dict(int, list(float))) -> dict(int, float)
    
    >>> average_by_year({2017: [-1.3, 2.5]})
    {2017: 0.6}
    '''
    
    result = {}
    for year, temperatures in data.items():
        sum_temperature = 0
        for temperature in temperatures:
            sum_temperature += temperature
        result[year] = round(sum_temperature / len(temperatures), 2)
    return result

reduced = reduce_by_year(data)
print(average_by_year(reduced))
```

# íŠ¸ëŸ¼í”„ ëŒ€í†µë ¹ íŠ¸ìœ„í„° ë°ì´í„° ë¶„ì„í•˜ê¸°

## 01. ë¦¬ìŠ¤íŠ¸ ìˆœíšŒí•˜ê¸°

- for ë°˜ë³µë¶„ (for, in)
```
fruits = ["ì‚¬ê³¼", "ë°”ë‚˜ë‚˜", "í‚¤ìœ„"]

# ë¦¬ìŠ¤íŠ¸ì˜ ì›ì†Œ í•˜ë‚˜ì”© ê°€ì ¸ì˜¤ê¸°
for fruit in fruits : # ì‚¬ê³¼, ë°”ë‚˜ë‚˜, í‚¤ìœ„ë¥¼ ìˆœì„œëŒ€ë¡œ ìˆœíšŒí•œë‹¤.
    print(fruit + "ëŠ” ë§›ìˆì–´")

# 0ë¶€í„° 9ê¹Œì§€ í•œ ì¤„ ì”© ì¶œë ¥í•©ë‹ˆë‹¤.
for num in range(10): # ì—°ì†ë˜ëŠ” ìˆ«ìì—´ ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“­ë‹ˆë‹¤. range(n) = [0 ~ n-1]
    print(num)

# ê³¼ì¼ì˜ ì´ë¦„ê³¼ ë²ˆí˜¸ë¥¼ í•¨ê»˜ ì¶œë ¥í•©ë‹ˆë‹¤.
for i in range(len(fruits)): # len() í•¨ìˆ˜ëŠ” ë¦¬ìŠ¤íŠ¸ì˜ ê¸¸ì´ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. len(fruits) = 3, iëŠ” 0,1,2ê°€ ëœë‹¤.
    print("ê³¼ì¼" + str(i+1) + ": fruits[i]") 
```

### íŠ¸ëŸ¼í”„ íŠ¸ìœ—ì„ ë‚ ì§œë³„ ë¦¬ìŠ¤íŠ¸ë¡œ ì €ì¥í•˜ê¸°

```
# íŠ¸ëŸ¼í”„ ëŒ€í†µë ¹ì˜ 1ì›” 1~3ì¼ íŠ¸ìœ—ì„ ê°ê° ë¦¬ìŠ¤íŠ¸ì˜ ì›ì†Œë¡œ ì €ì¥í•©ë‹ˆë‹¤.
trump_tweets = [
    'Will be leaving Florida for Washington (D.C.) today at 4:00 P.M. Much work to be done, but it will be a great New Year!',
    'Companies are giving big bonuses to their workers because of the Tax Cut Bill. Really great!',
    'MAKE AMERICA GREAT AGAIN!'
]

def date_tweet(tweet):
    # indexì— 0~2ì„ ì°¨ë¡€ëŒ€ë¡œ ì €ì¥í•˜ì—¬ ë°˜ë³µë¬¸ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.
    for index in range(len(tweet)):
        print('2018ë…„ 1ì›” ' + str(index+1) + 'ì¼: ' + tweet[index])

# ì‹¤í–‰ ê²°ê³¼ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•œ ì½”ë“œì…ë‹ˆë‹¤.
date_tweet(trump_tweets)
```

## 02. Indexing

fruits = ["ì‚¬ê³¼", "ë°”ë‚˜ë‚˜", "í‚¤ìœ„", "ë°°"]
last_fruit = fruits[-1] # ë°°
tropical_fruits = fruits[1:3] # ë°”ë‚˜ë‚˜, í‚¤ìœ„
no_apple = fruits[1:] # ë°”ë‚˜ë‚˜, í‚¤ìœ„, ë°°
no_pear = fruits[:3] # ì‚¬ê³¼, ë°”ë‚˜ë‚˜, ì¹´ìœ„

- ë¬¸ìì—´ì¸ë±ì‹±

word = "superman"
print(word[3]) # 'e'
print(word[-2]) # 'a'
print(word[5:]) # 'man'
print(word[:5]) # 'super'

### íŠ¸ìœ„ì–´ ë‹¨ì–´ì˜ ì¼ë¶€ë¶„ ê°€ì ¸ì˜¤ê¸°

```
# íŠ¸ëŸ¼í”„ ëŒ€í†µë ¹ íŠ¸ìœ—ì„ ê³µë°± ê¸°ì¤€ìœ¼ë¡œ ë¶„ë¦¬í•œ ë¦¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤. ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”. kë¡œ ì‹œì‘í•˜ëŠ” ë¬¸ìì—´ì„ ê°€ì ¸ì˜¤ê² ìŠµë‹ˆë‹¤.
trump_tweets = ['thank', 'you', 'to', 'president', 'moon', 'of', 'south', 'korea', 'for', 'the', 'beautiful', 'welcoming', 'ceremony', 'it', 'will', 'always', 'be', 'remembered']

def print_korea(text):
    # ì•„ë˜ ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”.
    for word in text :
        if word[0] == "k" or word[0] == "K" :
            print(word)
    
print_korea(trump_tweets)
```

## 03. ë¬¸ìì—´ í•¨ìˆ˜

#### .startswith()

```
word = "superman"
print(word.startswith('s')) # True

if word.startswith('a'): # aë¡œ ì‹œì‘í•˜ê¸° ì•Šê¸° ë•Œë¬¸ì— ifë¬¸ì„ ì‹¤í–‰í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
    print("aë¡œ ì‹œì‘í•˜ëŠ” ë‹¨ì–´ì…ë‹ˆë‹¤.") 
```

### íŠ¸ìœ„í„° ë‹¨ì–´ ì¼ë¶€ë¶„ ê°€ì ¸ì˜¤ê¸°2 (í•´ì‹œíƒœê·¸ ë“±ì„ ì°¾ì„ ë•Œ í™œìš©, startwith() í•¨ìˆ˜ í™œìš©)

```
# íŠ¸ëŸ¼í”„ ëŒ€í†µë ¹ íŠ¸ìœ—ì„ ê³µë°± ê¸°ì¤€ìœ¼ë¡œ ë¶„ë¦¬í•œ ë¦¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤. ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”.
trump_tweets = ['thank', 'you', 'to', 'president', 'moon', 'of', 'south', 'korea', 'for', 'the', 'beautiful', 'welcoming', 'ceremony', 'it', 'will', 'always', 'be', 'remembered']

def print_korea(tweet):
    '''
    ë¬¸ìì—´ë¡œ êµ¬ì„±ëœ ë¦¬ìŠ¤íŠ¸ì—ì„œ kë¡œ ì‹œì‘í•˜ëŠ” ë¬¸ìì—´ì„ ì¶œë ¥í•©ë‹ˆë‹¤.
    í•´ì‹œíƒœê·¸ì™€ ë©˜ì…˜ì„ ì°¾ê¸° ìœ„ì„œëŠ” ë¬¸ìì—´ì´ # ë˜ëŠ” @ë¡œ ì‹œì‘í•˜ëŠ”ì§€ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.
    '''
    for word in tweet :
        if word.startswith('k') :
            print(word)

print_korea(trump_tweets)
```

#### .split() : ë¬¸ìì—´ ë¶„ë¦¬, ë‚˜ì¤‘ì— ìì—°ì–´ ì²˜ë¦¬í•  ë•Œ ê¸°ë³¸ì´ ë˜ëŠ” ê°œë…

```
intro = "ì œ ì´ë¦„ì€ ì—˜ë¦¬ìŠ¤ì…ë‹ˆë‹¤."
print(intro.split()) # ì¸ìë¡œ ì•„ë¬´ê²ƒë„ ì£¼ì§€ ì•Šìœ¼ë©´ ê³µë°±ì„ ê¸°ì¤€ìœ¼ë¡œ ë¶„ë¦¬í•œë‹¤.
>>> ["ì œ", "ì´ë¦„ì€", "ì—˜ë¦¬ìŠ¤ì…ë‹ˆë‹¤."]

fruits = "ì‚¬ê³¼,ê·¤,ë°°,ë°”ë‚˜ë‚˜"
print(fruits.split(',')) # ì¸ì(',')ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë‹¨ì–´ë¥¼ ìª¼ê° ë‹¤
>>> ["ì‚¬ê³¼", "ê·¤", "ë°°", "ë°”ë‚˜ë‚˜"]

# ë„ì–´ì“°ê¸°ê°€ ê¹”ë”í•˜ì§€ ì•Šì€ ê²½ìš°
numbers = " 1 2 3 " 
print(numbers.split()) # ê³µë°±ì´ ë§ì„ ë•Œ ì•„ë¬´ê²ƒë„ ì¸ìë¡œ ì£¼ì§€ ì•Šìœ¼ë©´ ì¡´ì¬í•˜ëŠ” ë¬¸ìë§Œ ë¶„ë¦¬ëœë‹¤. 
>>> ['1', '2', '3']
print(numbers.split(' ')) # ë„ì–´ì“°ê¸° 1ê°œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ëª¨ë“  ê³µê°„ì„ ë‚˜ëˆˆë‹¤. ë¹ˆ ë¬¸ìì—´ë„ ë¶„ë¦¬ëœë‹¤.
>>> ['', '', '1', '', '2', '', '3', '', '']
```

- íŒŒì´ì¬ì˜ ëŒ€í‘œì ì¸ ê³µë°±ë¬¸ì
    - ' ' : ë¹ˆì¹¸ (ìŠ¤í˜ì´ìŠ¤ë°”)
    - '\t' : Tab(Tab í‚¤)
    - '\n' : Newline(ì—”í„° í‚¤)

> .split()ì€ ëª¨ë“  ê³µë°±ë¬¸ìë¥¼ ì—†ì•¤ë‹¤. (' ', \t, \n ëª¨ë‘)

### íŠ¸ìœ— ë¬¸ì¥ì„ ë‹¨ì–´ ë‹¨ìœ„ë¡œ ìª¼ê°œì–´ ë¦¬ìŠ¤íŠ¸ë¡œ ë°˜í™˜í•˜ê¸°

```
# íŠ¸ëŸ¼í”„ ëŒ€í†µë ¹ì˜ íŠ¸ìœ—ìœ¼ë¡œ êµ¬ì„±ëœ ë¬¸ìì—´ì…ë‹ˆë‹¤. ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”. 
trump_tweets = "thank you to president moon of south korea for the beautiful welcoming ceremony it will always be remembered"

# trump_tweetì„ ê³µë°±ì„ ê¸°ì¤€ìœ¼ë¡œ ë¶„ë¦¬í•˜ê³  ë¦¬ìŠ¤íŠ¸í˜•ìœ¼ë¡œ ë°˜í™˜í•˜ëŠ” break_into_words() í•¨ìˆ˜
def break_into_words(text):
    # ì•„ë˜ ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”.
    words = text.split()
    
    return words

print(break_into_words(trump_tweets))
```

#### .append() : ë¦¬ìŠ¤íŠ¸ í•¨ìˆ˜

```
numbers = []
numbers.append(1)
print(numbers) # [1]
numbers.append(2)
print(numbers) # [1, 2]

numbers = [1, 2, 10, 17]
small_numbers = []
for num in numbers:
    if number < 10:
    small_numbers.append(num) # 1, 2
```

### íŠ¸ìœ—ì—ì„œ íŠ¹ì • ë¬¸ìë¡œ ì‹œì‘í•˜ëŠ” ìƒˆë¡œìš´ ë¦¬ìŠ¤íŠ¸ ë§Œë“¤ê¸°

```
# íŠ¸ëŸ¼í”„ ëŒ€í†µë ¹ íŠ¸ìœ—ì„ ê³µë°± ê¸°ì¤€ìœ¼ë¡œ ë¶„ë¦¬í•œ ë¦¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤. ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”.
trump_tweets = ['america', 'is', 'back', 'and', 'we', 'are', 'coming', 'back', 'bigger', 'and', 'better', 'and', 'stronger', 'than', 'ever', 'before']

def make_new_list(text):
    # ì•„ë˜ ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”.
    new_list = []
    
    for word in text :
        if word.startswith('b') :
            new_list.append(word)

    return new_list

new_list = make_new_list(trump_tweets)
print(new_list)
```

#### ëŒ€ì†Œë¬¸ìë³€í™˜(lower(), upper())

```
intro = "My name is Elice!"
print(intro.upper())
>>> "MY NAME IS ELICE!"
print(intro.lower())
>>> "my name is elice!"
```

- append()ì™€ lower()ì˜ì°¨ì´

```
words = ['hello'] # ë¦¬ìŠ¤íŠ¸
words.append('elice')
print(words)
>>> ['hello', 'elice']

intro = "My name is Elice"
intro.lower()
print(intro)
>>> "My name is Elice" # ì›ë˜ ë¬¸ìì—´ì„ ì§ì ‘ ìˆ˜ì •í•˜ì§€ ì•ŠëŠ”ë‹¤!!!
# ë‹¤ë§Œ ìˆ˜ì •ëœ ë¬¸ìì—´ì„ ë¦¬í„´í•œë‹¤. ë”°ë¼ì„œ ë¦¬í„´ê°’ì„ ë³€ìˆ˜ì— ì €ì¥í•´ì£¼ì–´ì•¼ í•œë‹¤.

intro = "My name is Elice"
lower_intro = intro.lower() # ì›ë˜ introì˜ ê°’ì„ ë°”ë¡œ ë°”ê¾¸ê³  ì‹¶ë‹¤ë©´ intro = intro.lower()ë¡œ ì¨ì•¼í•œë‹¤.
print(lower_intro)
>>> "my name is elice"
```

### íŠ¸ìœ— ë¬¸ì¥ ëŒ€ì†Œë¬¸ì ë³€í™˜í•˜ê¸°(ë°ì´í„° ì „ì²˜ë¦¬)

```
# íŠ¸ëŸ¼í”„ ëŒ€í†µë ¹ì˜ íŠ¸ìœ— ì„¸ê°œë¡œ êµ¬ì„±ëœ ë¦¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤. ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”.
trump_tweets = [
    "FAKE NEWS - A TOTAL POLITICAL WITCH HUNT!",
    "Any negative polls are fake news, just like the CNN, ABC, NBC polls in the election.",
    "The Fake News media is officially out of control.",
]

# FAKE NEWS, Fake NewsëŠ” ëŒ€ì†Œë¬¸ìê°€ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— ë‘ ë‹¨ì–´ê°€ ëª‡ ë²ˆ ì‚¬ìš©ë˜ì—ˆëŠ”ì§€ ì •í™•í•˜ê²Œ í™•ì¸í•˜ê¸° ìœ„í•´ì„œëŠ” ëª¨ë‘ ì†Œë¬¸ìë¡œ ë³€í™˜í•´ì•¼ í•©ë‹ˆë‹¤.
def lowercase_all_characters(text):
    processed_text = []
    # ì•„ë˜ ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”.
    for sentence in text :
        processed_text.append(sentence.lower())
        
    return processed_text

# ì•„ë˜ ì£¼ì„ì„ í•´ì œí•˜ê³  ê²°ê³¼ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”.  
print('\n'.join(lowercase_all_characters(trump_tweets)))
```

#### .replace() : ë¬¸ìì—´ í•¨ìˆ˜, ëŒ€ì²´í•˜ê¸°

```
intro = "ì œ ì´ë¦„ì€ Eliceì…ë‹ˆë‹¤."
print(intro.replace('Elice', 'ì—˜ë¦¬ìŠ¤'))
>>> "ì œ ì´ë¦„ì€ ì—˜ë¦¬ìŠ¤ì…ë‹ˆë‹¤."

intro = "ì œ ì´ë¦„ì€ Eliceì…ë‹ˆë‹¤."
print(intro.replace(' ', '')) # ê³µë°± ì—†ì• ê¸°
>>> "ì œì´ë¦„ì€Eliceì…ë‹ˆë‹¤."

intro = "ì œ ì´ë¦„ì€ Eliceì…ë‹ˆë‹¤."
intro.replace(' ', '') # ë§ˆì°¬ê°€ì§€ë¡œ ì›ë˜ ë¬¸ìì—´ì„ ì§ì ‘ ìˆ˜ì •í•˜ì§€ ì•Šê³ , ìˆ˜ì •ëœ ê°’ì„ ë°˜í™˜í•œë‹¤. ì‚¬ìš©í•˜ê³ ì í•œë‹¤ë©´ ë³€ìˆ˜ì— ì €ì¥í•˜ê±°ë‚˜ ë°”ë¡œ ë¦¬í„´ê°’ì„ í™œìš©í•´ì•¼í•œë‹¤.
print(intro)
>>> "ì œ ì´ë¦„ì€ Eliceì…ë‹ˆë‹¤."
```

### íŠ¸ìœ— ë¬¸ì¥ì—ì„œ íŠ¹ìˆ˜ë¬¸ì ì œê±°í•˜ê¸°(ë°ì´í„° ì „ì²˜ë¦¬)

```
# íŠ¸ëŸ¼í”„ ëŒ€í†µë ¹ì˜ íŠ¸ìœ— ì„¸ê°œë¡œ êµ¬ì„±ëœ ë¦¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤. ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”.
trump_tweets = [
    "i hope everyone is having a great christmas, then tomorrow itâ€™s back to work in order to make america great again.",
    "7 of 10 americans prefer 'merry christmas' over 'happy holidays'.",
    "merry christmas!!!",
]

# íŠ¹ìˆ˜ë¬¸ìë¥¼ ì œê±°
def remove_special_characters(text):
    processed_text = []
    # ì•„ë˜ ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”.
    for sentence in text :
        processed_text.append(sentence.replace(",",  "").replace("'", "").replace("!", ""))

    return processed_text

# ì•„ë˜ ì£¼ì„ì„ í•´ì œí•˜ê³  ê²°ê³¼ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”.  
print('\n'.join(remove_special_characters(trump_tweets)))
```

# ë‹¤ì–‘í•œ í•¨ìˆ˜ë¥¼ í™œìš©í•œ íŠ¸ìœ— ë¬¸ì¥ ë°ì´í„° ì²˜ë¦¬

## ê²°ê³¼

> main(1) : ê°€ì¥ ë§ì´ ë“±ì¥í•œ í‚¤ì›Œë“œ, í•´ì‹œíƒœê·¸, ë©˜ì…˜ì„ ì¶œë ¥

```
maga: 28íšŒ
usağŸ‡ºğŸ‡¸: 23íšŒ
fakenews: 15íšŒ
taxreform: 12íšŒ
hurricaneharvey: 11íšŒ
magağŸ‡ºğŸ‡¸: 10íšŒ
icymi: 8íšŒ
harvey: 8íšŒ
obamacare: 7íšŒ
unga: 7íšŒ
```

> main(2) : íŠ¸ëŸ¼í”„ ëŒ€í†µë ¹ì˜ ì›”ë³„ íŠ¸ìœ— ê°œìˆ˜ ê·¸ë˜í”„ë¥¼ ì¶œë ¥

> main(3) : íŠ¸ëŸ¼í”„ ëŒ€í†µë ¹ì˜ íŠ¸ìœ— í‚¤ì›Œë“œë¡œ ì›Œë“œ í´ë¼ìš°ë“œ ì¶œë ¥(ì •ìƒì‘ë™)

```
# íŠ¸ëŸ¼í”„ ëŒ€í†µë ¹ì˜ íŠ¸ìœ— ëª¨ìŒì„ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.
from tweets import trump_tweets

# ê·¸ë˜í”„ì— í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤. 
import matplotlib.pyplot as plt

# ë‹¨ì–´êµ¬ë¦„ì— í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤. 
import numpy as np
from PIL import Image
from wordcloud import WordCloud

# íŠ¹í™”ëœ ì»¨í…Œì´ë„ˆ ëª¨ë“ˆì—ì„œ ìˆ˜ ì„¸ê¸°ë¥¼ ë•ëŠ” ë©”ì†Œë“œë¥¼ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.
from collections import Counter

# ë¬¸ìì—´ ëª¨ë“ˆì—ì„œ íŠ¹ìˆ˜ë¬¸ìë¥¼ ì²˜ë¦¬ë¥¼ ë•ëŠ” ë©”ì†Œë“œë¥¼ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤. 
from string import punctuation

# ì—˜ë¦¬ìŠ¤ì—ì„œ íŒŒì¼ ì†¡ì¶œì— í•„ìš”í•œ íŒ¨í‚¤ì§€ë¥¼ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤. 
from elice_utils import EliceUtils
elice_utils = EliceUtils()


# ë°ì´í„° ì „ì²˜ë¦¬ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤. 
def preprocess_text(text):

    # ë¶„ì„ì„ ìœ„í•´ textë¥¼ ëª¨ë‘ ì†Œë¬¸ìë¡œ ë³€í™˜í•©ë‹ˆë‹¤.
    text = text.lower()
    
    # @ì™€ #ì„ ì œì™¸í•œ íŠ¹ìˆ˜ë¬¸ìë¡œ ì´ë£¨ì–´ì§„ ë¬¸ìì—´ symbolsë¥¼ ë§Œë“­ë‹ˆë‹¤.
    # string.punctuation :'!"#$%&\'()*+,-./:;<=>?@[\\]^_`{|}~'
    symbols = punctuation.replace('@', '').replace('#', '')
    
    # string.punctuationì„ ì‚¬ìš©í•˜ì—¬ êµ¬ë‘ì ì˜ ëª©ë¡ì„ ì •ì˜í•œ ë‹¤ìŒ ëª¨ë“  êµ¬ë‘ì ì„ ë¹ˆ ë¬¸ìì—´ë¡œ ëŒ€ì²´í•˜ì—¬ êµ¬ë‘ì ì„ ì œê±°í•©ë‹ˆë‹¤.
    # ì „ì²´ textì—ì„œ @,#ì„ ì œì™¸í•œ ëª¨ë“  íŠ¹ìˆ˜ë¬¸ìë¥¼ ì œê±°í•˜ê³ , ê³µë°±ì„ ì—†ì•¤ ë°ì´í„°ë¥¼ ë¦¬ìŠ¤íŠ¸ì— ì‚½ì…í•©ë‹ˆë‹¤
    for i in symbols:
        text = text.replace(i, "")
    
    # ì „ì²˜ë¦¬ê°€ ì™„ë£Œëœ íŠ¸ìœ— ë°ì´í„°ë¥¼ 1ì°¨ì› ë¦¬ìŠ¤íŠ¸ë¡œ ë°˜í™˜í•´ì•¼ í•˜ì§€ë§Œ 
    # split() í•¨ìˆ˜ëŠ” ë¦¬ìŠ¤íŠ¸ë¥¼ ë°˜í™˜í•˜ë¯€ë¡œ ë¹ˆ ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤.
    preprocess_text = text.split()
    # print(preprocess_text)

    # ì „ì²˜ë¦¬ê°€ ì™„ë£Œëœ ë¦¬ìŠ¤íŠ¸ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
    return preprocess_text
    

# í•´ì‹œíƒœê·¸ì™€ í‚¤ì›Œë“œë¥¼ ì¶”ì¶œí•©ë‹ˆë‹¤. 
def analyze_text(words): # ë¬¸ìì—´ì„ ë‹´ê³  ìˆëŠ” words ë¦¬ìŠ¤íŠ¸

    # í‚¤ì›Œë“œ, í•´ì‹œíƒœê·¸, ë©˜ì…˜ì„ ì €ì¥í•  ë¦¬ìŠ¤íŠ¸ë¥¼ ê°ê° ìƒì„±í•©ë‹ˆë‹¤.
    keywords, hashtags, mentions = [], [], []

    for word in words : # ë¬¸ìì—´ ë¦¬ìŠ¤íŠ¸ë¥¼ ìˆœíšŒí•˜ë©° ê° ë¬¸ìë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤ 
        
        # '#' ë¬¸ìë¡œ ì‹œì‘í•˜ëŠ” ì›ì†ŒëŠ” hashtags ë¦¬ìŠ¤íŠ¸, ì²« ë²ˆì§¸ ë¬¸ì(#, @)ë¥¼ ì œê±°í•˜ê³  ì €ì¥
        if word.startswith('#') : 
            keywords.append(word.replace('#', ''))
            hashtags.append(word.replace('#', ''))
        # '@' ë¬¸ìë¡œ ì‹œì‘í•˜ëŠ” ì›ì†ŒëŠ” mentions ë¦¬ìŠ¤íŠ¸, ì²« ë²ˆì§¸ ë¬¸ì(#, @)ë¥¼ ì œê±°í•˜ê³  ì €ì¥
        elif word.startswith('@') :
            keywords.append(word.replace('@', ''))
            mentions.append(word.replace('@', ''))
        # ê°ê°ì˜ ì›ì†ŒëŠ” ëª¨ë‘ keywordsë¦¬ìŠ¤íŠ¸ì— ì €ì¥
        # ë‹¨ì–´ê°€ @ë‚˜ #ë¡œ ì‹œì‘í•œë‹¤ë©´ ì²« ë²ˆì§¸ ê¸€ìëŠ” ì œê±°í•˜ì—¬ ì €ì¥
        else : 
            keywords.append(word)
    
    return keywords, hashtags, mentions


# íŠ¸ìœ— ë°ì´í„°ì™€ íŠ¸ìœ—ì´ ì‘ì„±ëœ ì›”(ì •ìˆ˜)ì„ ì…ë ¥ ë°›ì•„ í•´ë‹¹ ì›”ì— ê²Œì‹œëœ íŠ¸ìœ—ì„ ë¦¬ìŠ¤íŠ¸ì— ì €ì¥í•œ í›„, ë°˜í™˜í•©ë‹ˆë‹¤.
def filter_by_month(tweet_data, month):
    
    # monthë¥¼ ë¬¸ìì—´ë¡œ ë°”ê¾¼ month_stringì„ ì„ ì–¸í•©ë‹ˆë‹¤.
    # ì´ ë•Œ í•œ ìë¦¬ ìˆ˜ëŠ” ì•ì— '0'ì„ ë„£ì–´ì¤ë‹ˆë‹¤. (ex: 1 => '01')
    month_string = '0' + str(month) if month < 10 else str(month)
    
    # ì„ íƒí•œ ë‹¬ì˜ íŠ¸ìœ—ì„ filtered_tweetsì— ì €ì¥í•©ë‹ˆë‹¤.
    filtered_tweets = []
    
    # íŠ¸ìœ—ì˜ ë‚ ì§œê°€ ì„ íƒí•œ ë‹¬ì— ì†í•´ ìˆìœ¼ë©´ íŠ¸ìœ—ì˜ ë‚´ìš©ì„ filtered_tweetsì— ì¶”ê°€í•©ë‹ˆë‹¤.
    for day, sentence in tweet_data :
        if day.startswith(month_string) :
            filtered_tweets.append(sentence)
            
    return filtered_tweets


# íŠ¸ìœ— í†µê³„ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.
def show_stats():
    keyword_counter = Counter()
    hashtag_counter = Counter()
    mention_counter = Counter()
    
    for _, tweet in trump_tweets:
        keyward, hashtag, mention = analyze_text(preprocess_text(tweet))
        keyword_counter += Counter(keyward)
        hashtag_counter += Counter(hashtag)
        mention_counter += Counter(mention)
    
    # ê°€ì¥ ë§ì´ ë“±ì¥í•œ í‚¤ì›Œë“œ, í•´ì‹œíƒœê·¸, ë©˜ì…˜ì„ ì¶œë ¥í•©ë‹ˆë‹¤.
    top_ten = hashtag_counter.most_common(10)
    for hashtag, freq in top_ten:
        print('{}: {}íšŒ'.format(hashtag, freq))


# ì›” ë³„ íŠ¸ìœ— ê°œìˆ˜ë¥¼ ë³´ì—¬ì£¼ëŠ” ê·¸ë˜í”„ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤. 
def show_tweets_by_month():
    months = range(1, 13)
    num_tweets = [len(filter_by_month(trump_tweets, month)) for month in months]
    
    plt.bar(months, num_tweets, align='center')
    plt.xticks(months, months)
    
    plt.savefig('graph.png')
    elice_utils = EliceUtils()
    elice_utils.send_image('graph.png')


# wordcloud íŒ¨í‚¤ì§€ë¥¼ ì´ìš©í•´ íŠ¸ëŸ¼í”„ ëŒ€í†µë ¹ ì‹¤ë£¨ì—£ ëª¨ì–‘ì˜ ë‹¨ì–´êµ¬ë¦„ì„ ìƒì„±í•©ë‹ˆë‹¤.
def create_word_cloud():
    
    counter = Counter()
    for _, tweet in trump_tweets:
        keywords, _, _ = analyze_text(preprocess_text(tweet))
        counter += Counter(keywords)
    
    trump_mask = np.array(Image.open('trump.png'))
    cloud = WordCloud(background_color='white', mask=trump_mask)
    cloud.fit_words(counter)
    cloud.to_file('cloud.png')
    elice_utils.send_image('cloud.png')


# ì…ë ¥ê°’ì— ë”°ë¼ ì¶œë ¥í•  ê²°ê³¼ë¥¼ ì„ íƒí•©ë‹ˆë‹¤. 
def main(code=1):
    # ê°€ì¥ ë§ì´ ë“±ì¥í•œ í‚¤ì›Œë“œ, í•´ì‹œíƒœê·¸, ë©˜ì…˜ì„ ì¶œë ¥í•©ë‹ˆë‹¤.
    if code == 1:
        show_stats()
    
    # íŠ¸ëŸ¼í”„ ëŒ€í†µë ¹ì˜ ì›”ë³„ íŠ¸ìœ— ê°œìˆ˜ ê·¸ë˜í”„ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.
    if code == 2:
        show_tweets_by_month()
    
    # íŠ¸ëŸ¼í”„ ëŒ€í†µë ¹ì˜ íŠ¸ìœ— í‚¤ì›Œë“œë¡œ ë‹¨ì–´êµ¬ë¦„ì„ ê·¸ë¦½ë‹ˆë‹¤.
    if code == 3:
        create_word_cloud()


# main í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤. 
if __name__ == '__main__':
    main(1)
```

- stopwords(ë¶ˆìš©ì–´) :

```
stopwords = ['we', 'our', 'ours', 'ourselves', 'you', 'your', 'yours', 'yourself', 'yourselves', 'he', 'him', 'his', 'himself', 'she', 'her', 'hers', 'herself', 'it', 'its', 'itself', 'they', 'them', 'their', 'theirs', 'themselves', 'what', 'which', 'who', 'whom', 'this', 'that', 'these', 'those', 'am', 'is', 'are', 'was', 'were', 'be', 'been', 'being', 'have', 'has', 'had', 'having', 'do', 'does', 'did', 'doing', 'a', 'an', 'the', 'and', 'but', 'if', 'or', 'because', 'as', 'until', 'while', 'of', 'at', 'by', 'for', 'with', 'about', 'against', 'between', 'into', 'through', 'during', 'before', 'after', 'above', 'below', 'to', 'from', 'up', 'down', 'in', 'out', 'on', 'off', 'over', 'under', 'again', 'further', 'then', 'once', 'here', 'there', 'when', 'where', 'why', 'how', 'all', 'any', 'both', 'each', 'few', 'more', 'most', 'other', 'some', 'such', 'no', 'nor', 'not', 'only', 'own', 'same', 'so', 'than', 'too', 'very', 's', 't', 'can', 'will', 'just', 'don', 'should', 'now', 'amp']
```

- tweets(íŠ¸ìœ— ë°ì´í„° ì¼ë¶€ ë°œì·Œ) :

```
trump_tweets = [('01-19-2017 20:13:57', 'On my way! #Inauguration2017 https://t.co/hOuMbxGnpe'), ('01-19-2017 20:18:32', 'Great Concert at 4:00 P.M. today at Lincoln Memorial. Enjoy!'), ('01-19-2017 20:21:36', 'Join me at 4pm over at the Lincoln Memorial with my family!#Inauguration2017 https://t.co/GQeQpJOgWz'), ('01-20-2017 00:40:51', 'Thank you for joining us at the Lincoln Memorial tonight- a very special evening! Together we are going to MAKE AMâ€¦ https://t.co/OSxa3BamHs'), ('01-20-2017 04:24:33', 'Thank you for a wonderful evening in Washington D.C. #Inauguration https://t.co/a6xpFQTHj5'), ('01-20-2017 12:31:53', 'It all begins today! I will see you at 11:00 A.M. for the swearing-in. THE MOVEMENT CONTINUES - THE WORK BEGINS!'), ('01-20-2017 17:51:25', 'Today we are not merely transferring power from one Administration to another or from one party to another â€“ but we are transferring...'), ('01-20-2017 17:51:58', 'power from Washington D.C. and giving it back to you the American People. #InaugurationDay'), ('01-20-2017 17:52:45', 'What truly matters is not which party controls our government but whether our government is controlled by the people.'), ('01-20-2017 17:53:17', 'January 20th 2017 will be remembered as the day the people became the rulers of this nation again.'), ('01-20-2017 17:54:00', 'The forgotten men and women of our country will be forgotten no longer. From this moment on itâ€™s going to be #AmericaFirstğŸ‡ºğŸ‡¸'), ('01-20-2017 17:54:36', 'We will bring back our jobs. We will bring back our borders. We will bring back our wealth - and we will bring back our dreams!'), ('01-20-2017 17:55:44', 'We will follow two simple rules: BUY AMERICAN &amp; HIRE AMERICAN!#InaugurationDay #MAGAğŸ‡ºğŸ‡¸'), ('01-20-2017 17:58:24', 'It is time to remember 
```

